# -*- coding: utf-8 -*-
"""
幻觉检测的Prompt模板
"""

# 事实一致性检测Prompt
FACTUAL_CONSISTENCY_PROMPT = """
请检查以下生成知识是否与原始案例的事实一致：

原始案例：{original_text}

生成知识：{generated_knowledge}

请分析：
1. 生成知识中的关键事实是否与原始案例一致？
2. 是否存在与原始案例冲突的信息？
3. 生成知识是否基于原始案例的合理推断？

重要判断标准：
- 如果生成内容是基于原始案例的合理推断，即使不是原文直接表述，也应该给予高分
- 只有与原始案例存在明显冲突的信息才应该扣分
- 合理的推理和推断是允许的，不应被视为幻觉

评分标准：
- 0.8-1.0: 完全一致，无冲突，或基于原始案例的合理推断
- 0.6-0.7: 基本一致，存在合理推断
- 0.4-0.5: 部分一致，存在推断
- 0.0-0.3: 存在事实冲突

请严格按照以下格式输出：

### 分析：
[详细分析内容]

### 评分：
[0.0-1.0之间的数字，如0.8]

### 理由：
[评分理由]
"""

# 推理质量检测Prompt
REASONING_QUALITY_PROMPT = """
请评估以下推理是否基于原始案例和领域知识的合理推断：

原始案例：{original_text}

生成知识：{generated_knowledge}

请分析：
1. 推理是否有原始信息支持？
2. 推理是否基于领域知识进行合理推断？
3. 推理是否符合逻辑且不违背常识？

重要判断标准：
- 基于领域知识和原始文本的合理推断是高质量的推理
- 只要推理有原始信息支持且符合领域常识，就应该给予高分
- 过度推断或缺乏原始信息支持的推理才应该扣分

评分标准：
- 0.8-1.0: 推理完全基于原始信息和领域知识
- 0.6-0.7: 推理基本合理，基于原始信息进行推断
- 0.4-0.5: 推理部分合理，存在推断
- 0.0-0.3: 推理缺乏支持，过度推断

请严格按照以下格式输出：

### 分析：
[详细分析内容]

### 评分：
[0.0-1.0之间的数字，如0.8]

### 理由：
[评分理由]
"""

# 根本性错误检测Prompt
FUNDAMENTAL_ERRORS_PROMPT = """
请检查以下生成知识是否存在根本性错误：

原始案例：{original_text}

生成知识：{generated_knowledge}

请分析：
1. 是否存在技术性根本错误？
2. 是否存在逻辑性根本错误？
3. 是否存在与领域常识相悖的错误？

重要判断标准：
- 基于领域知识和原始文本的合理推断不构成根本性错误
- 只有明显违背技术原理、逻辑关系或领域常识的错误才应该扣分
- 合理的推理和推断应该被允许

评分标准：
- 0.8-1.0: 无根本性错误，或基于领域知识的合理推断
- 0.0-0.3: 存在根本性错误

请严格按照以下格式输出：

### 分析：
[详细分析内容]

### 评分：
[0.0-1.0之间的数字，如0.8]

### 理由：
[评分理由]
"""
